(this.webpackJsonpdailydrinks=this.webpackJsonpdailydrinks||[]).push([[0],{14:function(e,t,n){},15:function(e,t,n){},16:function(e,t,n){"use strict";n.r(t);var a=n(0),i=n.n(a),l=n(8),s=n.n(l);n(14);var r=function(e){var t=e.title;return i.a.createElement("div",{className:"header"},i.a.createElement("h2",null,t||"DailyDrink(\u9810\u8a2d)"))},c=n(1),o=n(2),u=n(3),d=n(5),m=n(4),f=n(6);function p(e){return i.a.createElement("div",{className:e.className,onClick:e.callBack},e.text)}p.defaultProps={className:"green",callBack:function(){}};var h=p,g=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).changeStatus=function(){if(n.mounted){var e=n.state.ableModify,t=n.props,a=t.modifyLists,i=t.list,l=t.showAddDeleteBtn;a({id:i.id,name:i.name,price:i.price,remarks:i.remarks,status:!i.status,deleteStatus:i.deleteStatus}),n.setState((function(){return{ableModify:!e,tempStorage:{}}})),l(!!e)}},n.changeDeleteStatus=function(){if(n.mounted){var e=n.state.deleteStatus,t=n.props,a=t.list,i=t.updateDeleteIndex,l=a.id;n.setState((function(){return{deleteStatus:!e}}),(function(){i(l)}))}},n.updateTempStorage=function(e,t){if(n.mounted){var a=n.state.tempStorage;a[t]=e.target.value,n.setState((function(){return{tempStorage:a}}))}},n.updateList=function(){if(n.mounted){var e=n.state.tempStorage,t=n.props,a=t.modifyLists,i=t.list,l=t.showAddDeleteBtn,s=i.id,r=i.name,c=i.price,o=i.remarks,u=i.deleteStatus;a({id:s,name:e.name?e.name:r,price:e.price?e.price:c,remarks:e.remarks?e.remarks:o,status:!1,deleteStatus:u}),n.setState((function(){return{ableModify:!1,tempStorage:{}}})),l(!0)}},n.state={ableModify:!1,tempStorage:{},deleteStatus:e.list.deleteStatus},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this,t=this.state,n=t.ableModify,l=t.deleteStatus,s=this.props,r=s.list,c=s.ableAdd,o=s.ableDelete;return i.a.createElement(a.Fragment,null,i.a.createElement("div",{className:"listContainer"},o&&i.a.createElement("input",{type:"checkbox",className:"deleteInput",value:"",onClick:function(){e.changeDeleteStatus()},onChange:function(){},checked:l}),i.a.createElement("div",{className:"item drinkId"},r.id),i.a.createElement("div",{className:"item drinkName"},n?i.a.createElement("input",{type:"text",placeholder:"\u8acb\u8f38\u5165\u540d\u7a31",className:"input-text",defaultValue:r.name,onChange:function(t){e.updateTempStorage(t,"name")}}):r.name),i.a.createElement("div",{className:"item drinkPrice"},n?i.a.createElement("input",{type:"text",placeholder:"\u8acb\u8f38\u5165\u50f9\u9322",className:"input-text",defaultValue:r.price,onChange:function(t){e.updateTempStorage(t,"price")}}):"".concat(r.price," \u5143")),i.a.createElement("div",{className:"item"},n?i.a.createElement("textarea",{type:"text",placeholder:"\u8acb\u8f38\u5165\u50f9\u9322",className:"input-text",defaultValue:r.remarks,onChange:function(t){e.updateTempStorage(t,"remarks")}}):r.remarks),i.a.createElement("div",{className:"item drinkStatus"},r.status&&i.a.createElement(a.Fragment,null,i.a.createElement(h,{className:"button red inline-block align-right",text:"\u4fdd\u5b58",callBack:function(){e.updateList()}}),i.a.createElement(h,{className:"button red inline-block align-right",text:"\u53d6\u6d88",callBack:function(){e.changeStatus()}})),!r.status&&!o&&!c&&i.a.createElement(h,{className:"button red inline-block align-right",text:"\u4fee\u6539",callBack:function(){e.changeStatus()}}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){return e.isResetCheck&&t.deleteStatus?{deleteStatus:!1}:null}}]),t}(a.Component);g.defaultProps={lists:[],showAddDeleteBtn:function(){}};var k=g;function v(e){var t=e.ableDelete,n=e.ableAdd,l=e.newListInputToggle,s=e.addList,r=e.deleteListToggle,c=e.deleteList,o=e.sortedLists,u=e.updateNewListStorage,d=e.newList,m=e.willDeleteListIndexArr,f=e.isShowAddDeleteBtn;return i.a.createElement(a.Fragment,null,f&&i.a.createElement(a.Fragment,null,!t&&i.a.createElement(h,{className:"button inline-block align-right ".concat(n?"red":"green"),text:n?"\u53d6\u6d88\u65b0\u589e":"\u65b0\u589e",callBack:function(){l()}}),n&&i.a.createElement(h,{className:"button green inline-block align-right",text:"\u78ba\u5b9a\u65b0\u589e",callBack:function(){s()}}),!n&&0!==o.length&&i.a.createElement(h,{className:"button red inline-block align-right",text:t?"\u53d6\u6d88\u52d5\u4f5c":"\u6279\u6b21\u522a\u9664",callBack:function(){r()}}),t&&0!==m.length&&i.a.createElement(h,{className:"button green inline-block align-right",text:"\u78ba\u5b9a\u522a\u9664",callBack:function(){c()}})),n&&i.a.createElement("div",{className:"newListSection"},i.a.createElement("input",{type:"text",placeholder:"\u8acb\u8f38\u5165\b\b\b\u540d\u7a31",className:"input-text",defaultValue:d.name,onChange:function(e){u(e,"name")}}),i.a.createElement("input",{type:"text",placeholder:"\u8acb\u8f38\u5165\u50f9\u9322",className:"input-text",defaultValue:d.price,onChange:function(e){u(e,"price")}}),i.a.createElement("textarea",{type:"text",placeholder:"\u8acb\u8f38\u5165\u5099\u8a3b",className:"input-text",defaultValue:d.remarks,onChange:function(e){u(e,"remarks")}})))}v.defaultProps={ableAdd:!1,ableDelete:!1,newListInputToggle:function(){},addList:function(){},deleteListToggle:function(){},deleteList:function(){},sortedLists:[],updateNewListStorage:function(){},newList:{},willDeleteListIndexArr:[],isShowAddDeleteBtn:!0};var b=v;function S(e){var t=e.sortType,n=e.changeSortType;return i.a.createElement("div",{className:"listsFooter"},i.a.createElement(h,{className:"sortBtn button red inline-block align-right ".concat("origin"===t?"selected":""),text:"\u6309\u8a02\u55ae\u6210\u7acb\u6642\u9593",callBack:function(){n("origin")}}),i.a.createElement(h,{className:"sortBtn button red inline-block align-right ".concat("asc"===t?"selected":""),text:"\u50f9\u683c\u4f4e\u5230\u9ad8",callBack:function(){n("asc")}}),i.a.createElement(h,{className:"sortBtn button red inline-block align-right ".concat("desc"===t?"selected":""),text:"\u50f9\u683c\u9ad8\u5230\u4f4e",callBack:function(){n("desc")}}))}S.defaultProps={changeSortType:function(){}};var L=S,w=function(e){return function e(t,n,a){var i=function(e,t,n){for(var a=e[t+n>>>1];t<=n;){for(;e[t].id<a.id;)t++;for(;e[n].id>a.id;)n--;if(t<=n){var i=e[t];e[t++]=e[n],e[n--]=i}}return t}(t,n,a);n<i-1&&e(t,n,i-1),a>i&&e(t,i,a)}(e,0,e.length-1),e},x=function(e){return function e(t,n,a){var i=function(e,t,n){for(var a=e[t+n>>>1];t<=n;){for(;e[t].price<a.price;)t++;for(;e[n].price>a.price;)n--;if(t<=n){var i=e[t];e[t++]=e[n],e[n--]=i}}return t}(t,n,a);n<i-1&&e(t,n,i-1),a>i&&e(t,i,a)}(e,0,e.length-1),e},E=function(e){return function e(t,n,a){var i=function(e,t,n){for(var a=e[t+n>>>1];t<=n;){for(;e[t].price>a.price;)t++;for(;e[n].price<a.price;)n--;if(t<=n){var i=e[t];e[t++]=e[n],e[n--]=i}}return t}(t,n,a);n<i-1&&e(t,n,i-1),a>i&&e(t,i,a)}(e,0,e.length-1),e},D=function(e){function t(e){var n;return Object(o.a)(this,t),(n=Object(d.a)(this,Object(m.a)(t).call(this,e))).changeSortType=function(e){if(n.mounted){var t=n.state.sortType;e!==t&&n.setState((function(){return{sortType:e}}))}},n.newListInputToggle=function(){if(n.mounted){var e=n.state.ableAdd;n.setState((function(){return{ableAdd:!e,newList:{}}}))}},n.deleteListToggle=function(){if(n.mounted){var e=n.state.ableDelete;n.setState((function(){return{ableDelete:!e,willDeleteListIndexArr:[]}})),e&&n.resetChecked()}},n.resetChecked=function(){n.setState((function(){return{isResetCheck:!0}}),(function(){n.setState((function(){return{isResetCheck:!1}}))}))},n.updateNewListStorage=function(e,t){if(n.mounted){var a=n.state.newList;a[t]=e.target.value,n.setState((function(){return{newList:a}}))}},n.updateDeleteIndex=function(e){if(n.mounted)if(-1===n.state.willDeleteListIndexArr.indexOf(e))n.setState((function(){return{willDeleteListIndexArr:[].concat(Object(c.a)(n.state.willDeleteListIndexArr),[e])}}));else{var t=n.state.willDeleteListIndexArr.findIndex((function(t){return t===e}));t>=0&&(n.state.willDeleteListIndexArr.splice(t,1),n.setState((function(){return{willDeleteListIndexArr:Object(c.a)(n.state.willDeleteListIndexArr)}})))}},n.addList=function(){if(n.mounted){var e=n.state,t=e.lists,a=e.newList,i=0!==t.length?t[t.length-1].id:0;n.setState((function(){return{lists:[].concat(Object(c.a)(t),[{id:i+1,name:a.name,price:a.price,remarks:a.remarks,status:!1,deleteStatus:!1}]),ableAdd:!1,newList:{}}})),setTimeout((function(){n.listBody.scrollTo({top:n.listBody.scrollHeight,behavior:"smooth"})}),0)}},n.deleteList=function(){if(n.mounted){var e=n.state,t=e.lists,a=e.willDeleteListIndexArr,i=t.slice(0);a.length>0&&(a.forEach((function(e){var t=i.findIndex((function(t){return t.id===e}));t>=0&&i.splice(t,1)})),n.setState((function(){return{lists:Object(c.a)(i),ableDelete:!1,willDeleteListIndexArr:[]}})))}},n.modifyLists=function(e){if(n.mounted){var t=n.state.lists,a=e.id,i=t.slice(),l=t.findIndex((function(e){return e.id===a}));l>=0&&(i[l]=e),n.setState({lists:i})}},n.showAddDeleteBtn=function(e){n.mounted&&n.setState((function(){return{isShowAddDeleteBtn:e}}))},n.state={lists:[{id:0,name:"\u8a02\u55ae1",price:25,remarks:"\u7d05\u83361\u676f \u7da0\u83361\u676f",status:!1,deleteStatus:!1},{id:1,name:"\u8a02\u55ae2",price:50,remarks:"\u7d05\u83362\u676f \u7da0\u83362\u676f",status:!1,deleteStatus:!1},{id:2,name:"\u8a02\u55ae3",price:75,remarks:"\u7d05\u83363\u676f \u7da0\u83363\u676f",status:!1,deleteStatus:!1},{id:3,name:"\u8a02\u55ae4",price:100,remarks:"\u7d05\u83364\u676f \u7da0\u83364\u676f",status:!1,deleteStatus:!1},{id:4,name:"\u8a02\u55ae5",price:125,remarks:"\u7d05\u83365\u676f \u7da0\u83365\u676f",status:!1,deleteStatus:!1}],sortType:"origin",newList:{name:"",price:0,remarks:""},ableAdd:!1,ableDelete:!1,willDeleteListIndexArr:[],isResetCheck:!1,isShowAddDeleteBtn:!0},n}return Object(f.a)(t,e),Object(u.a)(t,[{key:"componentDidMount",value:function(){this.mounted=!0}},{key:"componentWillUnmount",value:function(){this.mounted=!1}},{key:"render",value:function(){var e=this,t=this.state,n=t.lists,a=t.sortType,l=t.ableAdd,s=t.newList,r=t.ableDelete,c=t.willDeleteListIndexArr,o=t.isResetCheck,u=t.isShowAddDeleteBtn,d=[];switch(a){case"asc":d=x(n);break;case"desc":d=E(n);break;default:d=w(n)}return i.a.createElement("div",{className:"mainSection"},i.a.createElement(b,{ableDelete:r,ableAdd:l,newListInputToggle:this.newListInputToggle,addList:this.addList,deleteListToggle:this.deleteListToggle,deleteList:this.deleteList,sortedLists:d,updateNewListStorage:this.updateNewListStorage,newList:s,willDeleteListIndexArr:c,isShowAddDeleteBtn:u}),i.a.createElement("div",{className:"listsBox"},i.a.createElement("div",{className:"listsHeader"},i.a.createElement("div",{className:"item"},"\u7de8\u865f"),i.a.createElement("div",{className:"item"},"\u540d\u7a31"),i.a.createElement("div",{className:"item"},"\u7e3d\u50f9\u9322"),i.a.createElement("div",{className:"item"},"\u5099\u8a3b"),i.a.createElement("div",{className:"item"},"\u72c0\u614b")),i.a.createElement("div",{className:"listsBody",ref:function(t){e.listBody=t}},0===d.length&&i.a.createElement("div",null,"\u76ee\u524d\u6c92\u6709\u4efb\u4f55\u8a02\u55ae"),d.length>0&&d.map((function(t){return i.a.createElement(k,{key:t.id,lists:n,list:t,modifyLists:e.modifyLists,ableAdd:l,ableDelete:r,updateDeleteIndex:e.updateDeleteIndex,isResetCheck:o,showAddDeleteBtn:e.showAddDeleteBtn})}))),i.a.createElement(L,{sortType:a,changeSortType:this.changeSortType})))}}]),t}(a.Component);n(15);var y=function(){return i.a.createElement("div",{className:"App"},i.a.createElement(r,{title:"DailyDrink"}),i.a.createElement(D,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(i.a.createElement(y,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},9:function(e,t,n){e.exports=n(16)}},[[9,1,2]]]);
//# sourceMappingURL=main.a697b72f.chunk.js.map